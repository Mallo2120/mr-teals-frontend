<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mr. Teals - Paper Trading Dashboard</title>
  <!-- Use the provided Mr. Teals logo as the site icon.  If you rename the PNG it will
       still work as long as the href matches your file name. -->
  <link rel="icon" type="image/png" href="4b75d94a-1586-433d-b7c8-c49e8c120a06.png" />
  <link rel="stylesheet" href="style.css" />
  <!-- Chart.js via CDN -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <!-- Brand icon (sized down); you can replace the src with your own favicon file -->
      <img id="brandIcon" src="4b75d94a-1586-433d-b7c8-c49e8c120a06.png" alt="Mr. Teals" />
      <span class="brand-text">Mr. Teals</span>
    </div>
    <div class="actions">
      <!-- Placeholder settings button; automation settings will appear here in future phases -->
      <button id="btnSettings" class="btn btn-secondary">Settings</button>
      <button id="btnReset" class="btn btn-danger">Reset</button>
    </div>
  </header>

  <!-- Equity, cash, positions and starting balance row -->
  <section class="stats-row">
    <div class="stat-card">
      <div class="stat-title">Equity</div>
      <div id="snapEquity" class="stat-value">$0.00</div>
    </div>
    <div class="stat-card">
      <div class="stat-title">Cash</div>
      <div id="snapCash" class="stat-value">$0.00</div>
    </div>
    <div class="stat-card">
      <div class="stat-title">Positions</div>
      <div id="snapPositions" class="stat-value">$0.00</div>
    </div>
    <div class="start-balance-card">
      <label for="startAmount" class="start-label">Add Starting Balance</label>
      <div class="start-controls">
        <input type="number" id="startAmount" min="0" placeholder="$" />
        <button id="btnAddBalance" class="btn btn-primary">Add</button>
      </div>
    </div>
  </section>

  <!-- Main grid containing live prices and manual trade form -->
  <section class="main-grid">
    <!-- Live prices list -->
    <div class="card price-card">
      <div class="card-header">
        <h2>Live Prices</h2>
        <span id="priceUpdated" class="updated-time">Updated: --:--:--</span>
      </div>
      <div class="card-body price-body">
        <table class="price-table">
          <tbody id="priceBody"></tbody>
        </table>
      </div>
    </div>
    <!-- Manual trade form -->
    <div class="card trade-card">
      <h2>Manual Trade</h2>
      <form id="manualTradeForm" autocomplete="off">
        <div class="form-row">
          <label for="manualSymbol">Symbol</label>
          <input id="manualSymbol" list="symbolList" placeholder="BTC/USD" />
          <datalist id="symbolList">
            <option value="BTC/USD"></option>
            <option value="ETH/USD"></option>
            <option value="SOL/USD"></option>
            <option value="DOT/USD"></option>
            <option value="DOGE/USD"></option>
          </datalist>
        </div>
        <div class="form-row">
          <label for="manualSide">Side</label>
          <select id="manualSide">
            <option value="BUY">BUY</option>
            <option value="SELL">SELL</option>
          </select>
        </div>
        <div class="form-row">
          <label for="manualQty">Quantity</label>
          <input id="manualQty" type="number" min="0" step="any" placeholder="0.0001" />
        </div>
        <div class="form-row form-estimates">
          <span id="estPrice" class="estimate">Est. Price: —</span>
          <span id="estCost" class="estimate">Est. Cost: —</span>
        </div>
        <div class="form-row">
          <button type="submit" id="btnExecute" class="btn btn-primary">Execute</button>
        </div>
      </form>
    </div>
  </section>

  <!-- Trade log table -->
  <section class="card log-card">
    <h2>Trade Log</h2>
    <table class="trade-table">
      <thead>
        <tr>
          <th>Time</th>
          <th>Symbol</th>
          <th>Side</th>
          <th>Qty</th>
          <th>Price</th>
          <th>Total</th>
        </tr>
      </thead>
      <tbody id="tradeLogBody"></tbody>
    </table>
  </section>

  <!-- Equity chart card -->
  <section class="card chart-card">
    <div class="card-header">
      <h2>Equity</h2>
      <div class="range-chips">
        <button class="chip active" data-range="live">Live</button>
        <button class="chip" data-range="1D">1D</button>
        <button class="chip" data-range="1W">1W</button>
        <button class="chip" data-range="1M">1M</button>
        <button class="chip" data-range="1Y">1Y</button>
        <button class="chip" data-range="ALL">ALL</button>
      </div>
    </div>
    <div class="card-body chart-body">
      <canvas id="equityChart" height="200"></canvas>
    </div>
  </section>

  <!-- Toast container -->
  <div id="toastContainer"></div>

  <!-- Main JavaScript for the dashboard -->
  <script src="app.js"></script>
</body>
</html>